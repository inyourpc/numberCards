<!DOCTYPE html>
<html lang="en">
         
           

            <title>Number Cards</title>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1" />
             <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">


            <link rel="stylesheet" href="assets/lib/jquery/css/jquery.mobile-1.3.2.min.css" type="text/css"/>
            <link rel="stylesheet" href="assets/lib/jquery/css/ThemeForTools.css"/>
            <link rel="stylesheet" href="assets/lib/jquery/css/jquery.mobile.structure-1.3.2.min.css"/>
            <link rel="stylesheet" href="assets/css/colorPicker.css" type="text/css"/>


            <link rel="stylesheet" href="assets/css/infuze.styles.css">

                    

            <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
            <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>

            <script src="http://code.createjs.com/preloadjs-0.4.0.min.js"></script>
            <!-- EaselJS library for work with canvas-->

            <script src="http://code.createjs.com/easeljs-0.7.0.min.js"></script>

            <script type="text/javascript" src="ndgmr.Collision.js"></script>
   

            <script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>

           
            <body bgcolor="#159acf">
        
            <div class="footer-bar-tools">
                <div class="footer-btns-center-tools">
                    <div id="myButton" class="footer-btn-tools" style="z-index: 1;vertical-align:middle;">SetUp</div>
                    <div id="help" class="footer-btn-tools infoBtn" style="z-index: 1;">&nbsp;</div>
                    <div id="reset" class="footer-btn-tools" style="z-index: 1;">Reset</div>
                </div>
            </div>
        
              <button id="clearAll" style="position: relative; left: 450px; top: 536px; z-index: 1;">Clear All Cards</button>
              <button id="showAll" style=" left: 175px; top: 536px; z-index: 1;">Show All Values</button>
              <button id="hideAll" style=" left: -100px; top: 536px; z-index: 1;">Hide All Values</button>
              <div id="Help" title="Help">
                <p>Help content</p>
              </div>
              <div id="resetDialog" title="Reset">
                <br>
                 <center>Are you sure you want to reset ? </center>
              </div>


             <div id="myDialog" title="Set Up" >   
              <div>
                                <div class="numCard-dropDwn-panel">
                                    <div data-role="fieldcontain" class="numCard-dropDwn">
                                        <label for="num_of_cards">Number of cards:</label>
                                        

                                        <select id="num_of_cards" name="select-native-fc" data-mini="true" onChange="getMaxCard(this);" style="float:right; width:150px;">
                                        <option value="5">5</option>
                                        <option value="10">10</option>
                                        <option value="20">20</option>
                                        <option value="40">40</option>
                                        </select>
                                        
                                    </div>
</br>
                                    <div data-role="fieldcontain">
                                        <label for="select-2">Type of numbers:</label>
                                        <select id="select-2" name="select-native-fc" data-mini="true" onChange="getCardType(this);" style="float:right;width:150px;">
                                                <option value="0">Serial</option>
                                                <option value="1">Odds</option>
                                                <option value="2">Even</option>
                                                <option value="3">Triangles</option>
                                                <option value="4">Squares</option>
                                                <option value="5">Primes</option>
                                                <option value="6">Roman Numerals</option>
                                                <option value="7">Random-2 digit</option>
                                                <option value="8">Random-1 digit</option>
                                                <option value="9">DIE</option>
                                                <option value="10">Classic Cards</option>
                                                <option value="11">Custom</option>

                                        </select>
                                </div>
                                </br>
                                <div data-role="fieldcontain">
                                    <label for="color_change">Color:  </label>                 
                                      <select id="color_change" name="select-native-fc" data-mini="true" onChange="getData(this);" style="float:right;width:150px;">
                                                <option value="0">blue</option>
                                                <option value="1">green</option>
                                                <option value="2">grey</option>
                                                <option value="3">orange</option>
                                                <option value="4">pink</option>
                                                <option value="5">red</option>
                                                <option value="6">yellow</option>
                                      </select>
                                </div> 

     
                        
                        
                        <div style="color:#d9d9d9;">_____________________________________</div>
             
                      
            <h2 class="customH2">Custom number settings</h2>
                                <div class="numCard-panel">

                                    <div class="numCard-divLabel">
                                        <label class="numCard-Label">First value</label>
                                    </div>
                                    <div class="numCard-divInput">
                                        <input id="txt1" type="text" name="number" pattern="[0-9]*" min="1" max="4" class="number-pattern" value="10" onkeyup="sum();">
                                    </div>
                                </div>
                                <div class="numCard-panel">
                                    <div class="numCard-divLabel">
                                        <label class="numCard-Label">Increment</label>
                                    </div>
                                    <div class="numCard-divInput">
                                        <input id="txt2" type="text" name="number" pattern="[0-9]*" min="1" max="3" class="number-pattern" value="10" onkeyup="sum();">
                                    </div>
                                </div>





                                 <div class="numCard-cardValues">
                                    <input type="checkbox"  name="checkbox-0" data-mini="true" id="cardValues" style="float:left"/><label for="cardValues" style="float:right">Card values hidden as default</label>
                                </div>
                                        
    
        
    
</div>
<!--<button name="button" id="submit_values" onclick="get_all()"/>OK</button> -->



            
            
            <style>
            #myDialog {
    
}
      

           
    canvas {
      
           
        -moz-border-radius: 10px;
        border-radius: 10px;
        background-color: white;
        position: absolute;

        top:0;
        bottom: 0;
        left: 0;
        right: 0;

        margin: auto;
        z-index: ;
    }
    select{

    }
    .ui-dialog {
          left: 0;
          position: absolute;
          top: 0;
          background:black;
          border: 5px solid #159acf;
          border-radius:10px;
          -moz-border-radius: 10px;
          position: absolute;
    

      }





      .ui-dialog-titlebar {
      background:transparent url('images/PopUp-topBars.png') no-repeat 50% 50%;
      
      height: 30px;
      background:#159acf;
      color:white;
      padding: 0.1em .5em;
          
      border: 5px;
      font-size: 1.2em;
      -webkit-border-radius: 100px;
      -moz-border-radius: 100px;
      border-radius: 100px;
          
      }

        input {
      font-family: "Helvetica Neue", "Cinzel", Arial, sans-serif;
      border:0px solid #ccc;
      background-color:rgba(0,0,0,0);

      font-size:40px;
      width:60px;
      font-weight: bold;
      text-align: center;
      min-height:30px;
      display:block;
      cursor:default;



      outline: none;

      user-select: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      
      -webkit-touch-callout: none;
      -khtml-user-select: none;
      -ms-user-select: none;
      user-select: none;

        }


            </style>


    <script>

      var selected;
      var stage;
      var loading;
      var topMostCard;
      var filesloaded=0;
      var border;
      ///coding variables
      var jj=0,bb=0,maxNumberr=5;
      var b=0;
      var m;
      var mm;
      var num=2;
      var collision;
      var mainContainer;
      var container = new Array();
      var x;
      var initialSize;
      
      var cardNumber =new Array();
      var j=0;
      var maxNumber=5;
      var num_of_cards=1;
      var inContainerr= new Array();
      var logo;


      var cartDiv= new Array();
      var enterquestion=new Array();
      var enterquestionDom=new Array();

      var labelDiv = new Array();
      var firstBox;
      var firstBoxDOM;
      var incrementBox;
      var incrementBoxDOM;
      var limit=1;
      var onkeychange;
      var bitmapArray = new Array();
      ///jguery of the setup popup-dialog
      var z1,z2;
      $("#myDialog").dialog({
        modal: true,
        autoOpen: false,
        resizable: false,
        width:310,
        height:470,
         zIndex: 200000000,
        buttons: {
          "OK" : function() {

            get_all();
          $( this ).dialog( "close" );

        },
        
        Close : function() {
          $( this ).dialog( "close" );
        }
      },
        show: {
        effect: "blind",
        duration: 1000
      },
      hide: {
        effect: "explode",
        duration: 1000
      }
    
    
    

      });
     

      $("#myButton").button().click(function() {
      $("#myDialog").dialog("open");
    
    });
      $("#submit_values").button().click(function() {
      $("#myDialog").dialog("close");
    
    });
      ////help content
       $("#Help").dialog({
      resizable: false,
      height:300,
      modal: true,
      buttons: {
        
        Close : function() {
          $( this ).dialog( "close" );
        }
      },
       autoOpen: false,
        show: {
        effect: "blind",
        duration: 1000
      },
      hide: {
        effect: "explode",
        duration: 1000
      }

    });
       $("#help").button().click(function() {
      $("#Help").dialog("open");
    });

///////reset popup dialog
     $("#resetDialog").dialog({
      resizable: false,
      width:400,
      height:200,
      modal: true,
      buttons: {
        "Yes": function() {
          j=0;
          b=0;
          document.getElementById("cardValues").checked=false;
          maxNumber=5;
          handleComplete();
          $( this ).dialog( "close" );

        },
        Cancel: function() {
          $( this ).dialog( "close" );
        }
      },
       autoOpen: false,
        show: {
        effect: "blind",
        duration: 1000
      },
      hide: {
        effect: "explode",
        duration: 1000
      }

    });

      $("#reset").button().click(function() {
      $("#resetDialog").dialog("open");
    });
      ////

   

      
      //var 1 =0;
      document.getElementById('txt1').disabled = true;
      document.getElementById('txt2').disabled = true;

      document.getElementById('txt1').style.backgroundColor="grey";

      document.getElementById('txt2').style.backgroundColor="grey";
      var result1 = new Array;
      function sum() {
            var txtFirstNumberValue = document.getElementById('txt1').value;
            var txtSecondNumberValue = document.getElementById('txt2').value;
            var result = parseFloat(txtFirstNumberValue) + parseFloat(txtSecondNumberValue);

            if (!isNaN(result)) {
              for(var i=num_of_cards,result1=result;i<=100;result1+=parseFloat(txtSecondNumberValue),i++)
                if((container[i]!=undefined)&&(container[i].inContainer==false))
                document.getElementById(i).value = result1;
              //document.getElementById(i).value += txtSecondNumberValue;
              
              
            }
        }
///Submit button
// Get the element, add a click listener...
        document.getElementById("color_change").addEventListener("click",function(e) {
            jj = e.target.value;
            console.log("List item "+jj+" was clicked!");
        });
        document.getElementById("select-2").addEventListener("click",function(e) {
            bb = e.target.value;
           if(bb!='11'){

        document.getElementById('txt1').disabled = true;
        document.getElementById('txt2').disabled = true;

        document.getElementById('txt1').style.backgroundColor="grey";

        document.getElementById('txt2').style.backgroundColor="grey";
         document.getElementById('txt1').style.width="60px";
        document.getElementById('txt2').style.width="60px";
        }
            console.log("List item "+bb+" was clicked!");
        });
        document.getElementById("num_of_cards").addEventListener("click",function(e) {
            maxNumberr = e.target.value;
            console.log("List item "+maxNumberr+" was clicked!");
        });
//
        function get_all(){
          console.log("maxNumber "+maxNumberr);
          console.log("j"+jj);
          console.log("b"+bb);
          j=parseInt(jj);
          b=parseInt(bb);
          maxNumber=parseInt(maxNumberr);

              for(var i=1;i<100;i++){
            if((container[i]!=undefined)&&(container[i].inContainer==false)){
            document.getElementById(i).style.visibility="hidden";

            stage.removeChild(container[i],stack);

              }
            }

        document.getElementById('txt1').disabled = true;
        document.getElementById('txt2').disabled = true;

        document.getElementById('txt1').style.backgroundColor="grey";

        document.getElementById('txt2').style.backgroundColor="grey";
        document.getElementById('txt1').style.width="60px";
        document.getElementById('txt2').style.width="60px";
        ////hidecard checkbox
        
        //console.log(maxNumber);
        num_of_cards=inContainerr.length+1;
        set_bitmap();
        get_stack(num_of_cards);

        }
        
        



      //////color selector
      var odd=["1","1","3","5","7","9","11","13","15","17","19","21","23","25","27","29","31","33","35","37","39","41","43","45","47","49","51","53","55","57","59","61","63","65","67","69","71","73","75","77","79","81"];
      var even=["1","2","4","6","8","10","12","14","16","18","20","22","24","26","28","30","32","34","36","38","40","42","44","46","48","50","52","54","56","58","60","62","64","66","68","70","72","74","76","78","80"];
      var triangles=["1","3","6","10","15","21","28","36","45","55","66","78","91","105","120","136","153","171","190","210","231","253","276","300","325","351","378","406","435","465","496","528","561","595","630","666","703","741","780","820"];
      var prime=["2","3","5","7","11","13","17","19","23","29","31","37","41","43","47","53","59","61","67","71","73","79","83","89","97","101","103","107","109","113","127","131","137","139","149","151","157","163","167","173"];
      var roman=["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII","XIII","XIV","XV","XVI","XVII","XVIII","XIX","XX"];
      

      
      ///color selector- function
      function getMaxCard(title){
     
         // var numb=title.value;
        // maxNumber = parseInt(numb);

        //console.log(maxNumber);
        //num_of_cards=inContainerr.length+1;
       // set_bitmap();
       // get_stack(num_of_cards);

      }
      function getData(title){
    


        // j=title.value;
         //num_of_cards=inContainerr.length+1;

        // set_bitmap();
        // get_stack(num_of_cards);
        // console.log(inContainerr.length);


         
       // console.log(j);
      }
      function getCardType(title){
          
       // var b;
       // console.log(b);
          if(typeof title.value === "string"){
             b=parseInt(title.value);
          }
          else
            {
              b=title;
            }
        
        
         
            
            
        
       
       
       switch(b){
                      case 0://serial
                       for(var i=num_of_cards,m=1;i<100;i++) { 
                            if((container[i]!=undefined)&&(container[i].inContainer==false)){
                          document.getElementById(i).value=m;
                          if(m<maxNumber)
                            m++;
                        
                        }
                      }
                      
                      break;

                      case 1:
                      
                      //console.log(limit);
                
                        
                          
                          for(var i=num_of_cards,m=1;i<100;i++) { 
                            if((container[i]!=undefined)&&(container[i].inContainer==false)){

                          document.getElementById(i).value=odd[m];
                          if(m<maxNumber)
                            m++;
                        }
                        }
                        
                         // console.log("odd ="+limit);


                        
                        
                        break;

                      case 2:

                        
                        for(var i=num_of_cards,m=1;i<100;i++) { 
                            if((container[i]!=undefined)&&(container[i].inContainer==false)){
                          document.getElementById(i).value=even[m];
                          if(m<maxNumber)
                            m++;
                        
                        }
                      }

                        
                       break;

                      case 3:
                      for(var i=num_of_cards,m=1;i<100;i++) { 
                            if((container[i]!=undefined)&&(container[i].inContainer==false)){
                          document.getElementById(i).value=triangles[m];
                          if(m<maxNumber)
                            m++;
                        
                        }
                      }
                        break;

                      case 4://squares
                      for(var i=num_of_cards,m=1;i<100;i++) { 
                            if((container[i]!=undefined)&&(container[i].inContainer==false)){
                          document.getElementById(i).value=m*m;
                          if(m<maxNumber)
                            m++;
                        
                        }
                      }

                       
                        break;
                      case 5://primes
                      for(var i=num_of_cards,m=1;i<100;i++) { 
                            if((container[i]!=undefined)&&(container[i].inContainer==false)){
                          document.getElementById(i).value=prime[m];
                          if(m<maxNumber)
                            m++;
                        
                        }
                      }


                      break;

                      case 6:
                     
                      for(var i=num_of_cards,m=0;i<100;i++) { 
                            if((container[i]!=undefined)&&(container[i].inContainer==false)){
                              
                          document.getElementById(i).value=roman[m];
                          if(m<maxNumber)
                            m++;
                        

                        }

                        
                      }


                      break;

                      case 7:

                      for(var i=num_of_cards;i<100;i++) { 
                            if((container[i]!=undefined)&&(container[i].inContainer==false)){
                              
                          document.getElementById(i).value=Math.floor(Math.random()*90+0);
                          
                        

                        }

                        
                      }



                      break;

                      case 8:

                      for(var i=num_of_cards;i<100;i++) { 
                            if((container[i]!=undefined)&&(container[i].inContainer==false)){
                              
                          document.getElementById(i).value=Math.floor(Math.random()*9+0);
                          
                        

                        }

                        
                      }


                      break;

                      case 9:

                      for(var i=num_of_cards,m=1;i<100;i++) { 
                            if((container[i]!=undefined)&&(container[i].inContainer==false)){
                              
                          document.getElementById(i).style.background = "url(images/"+m+"_dot.png) no-repeat center center";
                          
                          document.getElementById(i).value = "";
                          if(m<6)
                            m++;
                           else 
                            m=1;
                          
                        

                        }

                        
                      }




                      break;

                      case 10:

                      for(var i=num_of_cards,m=1;i<100;i++) { 
                            if((container[i]!=undefined)&&(container[i].inContainer==false)){
                              
                          document.getElementById(i).style.background = "url(images/"+m+"-heart.png) no-repeat center center";
                          
                          document.getElementById(i).value = "";
                          if(m<9)
                            m++;
                           else 
                            m=1;
                          
                        

                        }

                        
                      }


                      break;



                        case 11:
                       /* for(var i =1;i<3;i++){
                        labelDiv[i]=document.createElement("div");
                        }
                        document.body.appendChild(labelDiv[1]);
                       // document.body.appendChild(labelDiv[i]);
                        labelDiv[1].id = "labeDiv"+1;
                        document.getElementById(labelDiv[1].id).innerHTML="<input type=\"text\" id="+1+" size=\"6\" maxlength=\"5\" ></input>";

                        document.body.appendChild(labelDiv[2]);
                       // document.body.appendChild(labelDiv[i]);
                        labelDiv[2].id = "labeDiv"+2;
                        document.getElementById(labelDiv[2].id).innerHTML="<input type=\"text\" id="+2+" size=\"6\" maxlength=\"5\" ></input>";
                        


                        //document.getElementById(i).value=getCardType(1);
                        firstBox = document.getElementById(labelDiv[1].id);
                        incrementBox = document.getElementById(labelDiv[2].id);
                        firstBoxDOM = new createjs.DOMElement(firstBox);
                        incrementBoxDOM = new createjs.DOMElement(incrementBox);
                        firstBoxDOM.x=20;
                        firstBoxDOM.y=50;

                        incrementBoxDOM.x=150;
                        incrementBoxDOM.y=50;

                        stage.addChild(firstBoxDOM,incrementBoxDOM);
                        console.log("accessed");
                        //document.getElementById(i).value=
                        */
                        document.getElementById('txt1').disabled = false;
                        document.getElementById('txt2').disabled = false;
                        document.getElementById('txt1').style.backgroundColor="#66CCCC";
                        

                        document.getElementById('txt2').style.backgroundColor="#66CCCC";
                        document.getElementById('txt1').style.width="180px";
                        document.getElementById('txt2').style.width="180px";
                        sum();
                        


                      
                        
                        

                        
                        
                        break;




                        
       }

      }
      //////
      var color=["blue","green","grey","orange","pink","red","yellow"];

      var flipped=false;
      ///bitmap variables
      var stack;
      //
      var normal = new Array();
      
        ///
      var down = new Array();
      var flip_normal = new Array();
      
        ///
      var flip_down = new Array();
      var button_normal = new Array();
      
      var button_down = new Array;
      var recycleBin_norm;
      var recycleBin_over;
      //buttons//
      var reset_button;
      var instruction_button;
      var setup_button;
      var showAll_button;
      var hideAll_button;
      var clearAll_button;
      var button,button1,button2;
      var index = new Array();
      var inContainer;

      /////
      //css elements
      


     var queue = new createjs.LoadQueue();

            queue.addEventListener("fileload", handleFileLoad);
            queue.addEventListener("complete", handleComplete);

            
            

            queue.loadFile({id:"loading1",src:"images/loading.png"});
            queue.loadFile({id:"recycleBin_norm",src:"images/01_wastebin_norm.png"});
            queue.loadFile({id:"recycleBin_over",src:"images/01_wastebin_over.png"});
            queue.loadFile({id:"logo",src:"images/logo.png"});


            for(var i=0;i<=6;i++){
            queue.loadFile({id:"stack"+i,src:"images/01_card_"+color[i]+"_stack.png"});
            queue.loadFile({id:"normal"+i,src:"images/01_card_"+color[i]+"_norm.png"});
            queue.loadFile({id:"down"+i,src:"images/01_card_"+color[i]+"_down.png"});
            queue.loadFile({id:"flip_normal"+i,src:"images/01_card_"+color[i]+"_flip_norm.png"}); 
            queue.loadFile({id:"flip_down"+i,src:"images/01_card_"+color[i]+"_flip_down.png"}); 
            queue.loadFile({id:"button_normal"+i,src:"images/01_card_"+color[i]+"_button_norm.png"}); 
            queue.loadFile({id:"button_down"+i,src:"images/01_card_"+color[i]+"_button_down.png"}); 
            }



            //////DOM

            
            

            /////canvas setting////
                  var canvas = document.createElement( navigator.isCocoonJS ? "screencanvas" : "canvas");
                  W=985;
                  H=624;
                  canvas.width = W;
                  canvas.height = H;
                  var context = canvas.getContext("2d");
                  document.body.appendChild(canvas);

                  stage = new createjs.Stage(canvas);
                  stage.enableMouseOver(); 
                  stage.enableDOMEvents(true);


                  createjs.Touch.enable(stage);
                  //TweenLite.ticker.addEventListener("tick", stage.update, stage);
                  createjs.Ticker.setInterval(1);
                  createjs.Ticker.addEventListener("tick", tick);
                  //stage.autoClear = true;
                  stage.snapPixelsEnabled=true;
                  
                   

                  stage.addEventListener("click", stagePressHandler);
                  ///loading bar

            ////////////////////////////handle file load function ////     


            function handleFileLoad(){
            filesloaded++;
               
            if(filesloaded==1){
                loading= new createjs.Bitmap(queue.getResult("loading1"));
                stage.addChild(loading);   
                stage.update();
                console.log("hello");
                document.getElementById('reset').disabled=true;
                document.getElementById('myButton').disabled=true;
                document.getElementById('help').disabled=true;

            document.getElementById('showAll').style.visibility="hidden";
            document.getElementById("hideAll").style.visibility="hidden";
            document.getElementById("clearAll").style.visibility="hidden";

                console.log("inside the if condition of the handle file load");
                }   
                
            }

           //////////////////handle complete function ////     
            function handleComplete() {
            //////console.log('handle complete');
            document.getElementById('reset').disabled=false;
            document.getElementById('myButton').disabled=false;
            document.getElementById('help').disabled=false;

            document.getElementById('showAll').style.visibility="visible";
            document.getElementById("hideAll").style.visibility="visible";
            document.getElementById("clearAll").style.visibility="visible";
            stage.removeChild(loading);


            //load screen images to bitmaps and store the bitmaps in vairables
           
            
            

            
            
            recycleBin_norm = new createjs.Bitmap(queue.getResult("recycleBin_norm"));
            recycleBin_over = new createjs.Bitmap(queue.getResult("recycleBin_over"));
            logo = new createjs.Bitmap(queue.getResult("logo"));



            ///// rectangle with 1 px blue border////


            border = new createjs.Shape();
            border.graphics.beginStroke("grey");
            border.graphics.setStrokeStyle(2);
            border.snapToPixel = true;
            //border.graphics.beginFill("blue");
            border.graphics.drawRect(20, 40, 945, 400);
            border.setBounds(20,40,945,400);
            border.x = stage.width / 2 - 200;
            border.y = stage.height / 2 - 150;
            mainContainer = new createjs.Container();
            mainContainer.addChild(border);
           
            set_bitmap();
          
           


            
            viewMain();
            

            }



            ///function views///
            function set_bitmap(){
               stack = new createjs.Bitmap(queue.getResult("stack"+j));
                  for(i=num_of_cards,m=num_of_cards;i<(maxNumber+1)+(num_of_cards-1);m++,i++){
                 //   console.log("i="+i);
            normal[i] = new createjs.Bitmap(queue.getResult("normal"+j));
            normal[i].name="normal"+i;
            //console.log(normal[i].name);
            flip_normal[i] = new createjs.Bitmap(queue.getResult("flip_normal"+j));
            button_normal[i] = new createjs.Bitmap(queue.getResult("button_normal"+j));

            button_down[i] = new createjs.Bitmap(queue.getResult("button_down"+j));
            down[i] = new createjs.Bitmap(queue.getResult("down"+j));

            flip_down[i] = new createjs.Bitmap(queue.getResult("flip_down"+j));

            ////text////
           /* cardNumber[i] = new createjs.Text("","40px Verdana bold","black");
                  ///ardNumber[i].lineWidth = 500;
                  cardNumber[i].textAlign = "center";
                  cardNumber[i].x=44;
                  cardNumber[i].y=35;
                  cardNumber[i].text=i;
                  cardNumber[i].name="number"+i;
                  ////*/
                  button_normal[i].x=56;
                  button_normal[i].y=83;
                  ////
                  button_down[i].x=56;
                  button_down[i].y=83;
                  ///
                  button_normal[i].name=m;

                  //console.log("button_normal[i].name "+name);



                  
            ////container////
            container[i] = new createjs.Container();
            container[i].name=i;
          

            cartDiv[i]=document.createElement("div");
            document.body.appendChild(cartDiv[i]);
            cartDiv[i].id = "EnterQuestionDiv"+i;
            document.getElementById(cartDiv[i].id).innerHTML="<input type=\"text\" id="+i+" size=\"6\" maxlength="+5+"></input>";


             /// check the syntax
              //document.getElementById(i).disabled=true;

              
            
            
            //getCardType(6);


            

           



            


             
            enterquestion[i] = document.getElementById(cartDiv[i].id);
            enterquestion[i].name=i;
            enterquestionDom[i] = new createjs.DOMElement(enterquestion[i]);
            enterquestionDom[i].x = 187.5;
            enterquestionDom[i].y = 7;
            enterquestionDom[i].text=""+i; 

            enterquestion[i].addEventListener("click",function(evt){

                console.log("heello i m text field number"+evt.currentTarget.name);
                evt.currentTarget.onkeychange=true;
            });

             enterquestion[i].addEventListener("keypress",function(evt){



               x=document.getElementById(evt.currentTarget.name);

              initialSize=6-(x.value.length);
              //initialSize=initialSize<=1?22:20;
              if(initialSize==2)
                initialSize=14;
              else if(initialSize==3)
                initialSize=18;
              else if(initialSize==4)
                initialSize=25;
              else if(initialSize==5)
                initialSize=40;
              else if(initialSize==6)
                initialSize=45;
              else
                initialSize=14;

              x.style.fontSize = initialSize + "px";
            

            });



          //  console.log(enterquestionDom[i].text);
            
            //enterquestionDom[i].text = "hassan";
            //stage.addChild(enterquestionDom);
            //normal.addChild(enterquestionDom[i])


            container[i].addChild(flip_normal[i],normal[i],enterquestionDom[i],button_normal[i],button_down[i],down[i],flip_down[i]);
            
            if(container[i-1]!=undefined)
            enterquestionDom[i].visible=false;

            down[i].visible=false;
            button_down[i].visible=false;
            flip_down[i].visible=false;
            


            document.getElementById(i).addEventListener("click",function(evt){
             
                console.log(evt.target.name);
                //document.getElementById(temp).focus();
                //document.getElementById(temp).select();

            });

            
            container[i].addEventListener("pressmove",function(evt){
              
              
             if((container[evt.currentTarget.name+1]!=undefined)&&(document.getElementById("cardValues").checked==false))
              enterquestionDom[evt.currentTarget.name+1].visible=true;
             else if(container[evt.currentTarget.name+1]==undefined)
              stage.removeChild(stack);
          


                evt.currentTarget.x = (evt.stageX-40);
                evt.currentTarget.y = (evt.stageY-35);
                

                });
            ////roll over, roll out functions
            button_normal[i].addEventListener("mousedown",function(evt){


              button_down[evt.currentTarget.name].visible=true;
            });
          

            //////
            button_normal[i].addEventListener("pressup",function(evt){
              button_down[evt.currentTarget.name].visible=false;
                container[evt.currentTarget.name].swapChildrenAt(0,2);
                if(enterquestionDom[evt.currentTarget.name].visible==true)
                enterquestionDom[evt.currentTarget.name].visible=false;
                else
                enterquestionDom[evt.currentTarget.name].visible=true;
                
              
            });

            
            
             container[i].addEventListener("pressup",function(evt){

                collision = ndgmr.checkRectCollision(evt.target,recycleBin_norm);


        
                if(collision){
                document.getElementById(evt.currentTarget.name).style.visibility="hidden";
                //document.getElementById(evt.currentTarget.name).style.zIndex=1;
                console.log("collision");
                stage.removeChild(evt.currentTarget);

            }
              
                if(((evt.currentTarget.x>20&&evt.currentTarget.x<945)&&(evt.currentTarget.y>40&&evt.currentTarget.y<400))&&(evt.currentTarget.inContainer!=true)){
                    evt.currentTarget.inContainer=true;
                    console.log(evt.currentTarget.inContainer);

                    inContainerr.push(evt.currentTarget);
                   console.log("incontainerr.lenght = "+inContainerr.length);
                }
                else if(evt.currentTarget.inContainer==false)
                    {

                        evt.currentTarget.inContainer=false;
                       // console.log(evt.currentTarget.inContainer);
                        TweenMax.to(evt.currentTarget,3,{x:"20",y:"450",ease:Bounce.easeOut});


                    }
                else if(((evt.currentTarget.x>20&&evt.currentTarget.x<945)&&(evt.currentTarget.y>400))&&(evt.currentTarget.inContainer==true)){
                       // console.log(evt.currentTarget.inContainer);
                        TweenMax.to(evt.currentTarget,3,{x:"400",y:"200",ease:Bounce.easeOut});

                }

                /*if((evt.currentTarget.x>850&&evt.currentTarget.x<960)&&(evt.currentTarget.y>450&&evt.currentTarget.y<565)){
                  enterquestionDom[evt.currentTarget.name].visible=false;
                  evt.currentTarget.removeChild(enterquestionDom[evt.currentTarget.name]);
                  stage.removeChild(evt.currentTarget);
                
                  }*/
                  

                
             //console.log(evt.currentTarget.inContainer);
               
            
      
          
            

        

                    
                   
             });
             container[i].addEventListener("click",function(evt){
              var temp=evt.currentTarget.name;

              //document.getElementById(evt.currentTarget.name).onclick=selectall(evt.currentTarget.name);
              

                
                if(evt.currentTarget.getChildByName(evt.currentTarget.name)!=undefined)
                console.log(evt.currentTarget.name);
                else
                console.log("child not exits");

             });
            // document.getElementById(evt.currentTarget.name).style
             
              
            }
          
            $("#hideAll").button().click(function() {
               // hide all values
                for(var i=1;i<100;i++){
                  if(container[i]!=undefined){
                    index[i] = container[i].getChildIndex(flip_normal[i]);
                    if((index[i]!=2)&&(container[i].inContainer==true)){
                    container[i].swapChildrenAt(0,2);
                    //document.getElementById(i).style.visibility="hidden";
                    enterquestionDom[i].visible=false;

                    }
                  }
                    
                }
                
                
            });
            
            $("#showAll").button().click(function() {
                //show all values
                for(var i=1;i<100;i++){
                  if(container[i]!=undefined){
                    index[i] = container[i].getChildIndex(flip_normal[i]);
                    if((index[i]==2)&&(container[i].inContainer==true)){
                    container[i].swapChildrenAt(0,2);
                     //document.getElementById(i).style.visibility="visible";
                     enterquestionDom[i].visible=true;

                   }
                   
                    }
                }

            });

        



            $("#clearAll").button().click(function() {
     
    
        //clear all values

                  for(var i=1;i<100;i++){
                    if(container[i]!=undefined){
                    
                    if(container[i].inContainer===true){
                      document.getElementById(i).style.visibility="hidden";
                      stage.removeChild(container[i]);
                    
                  }
                }
                    
                }
                
                  
            });
           
            }
            
            //////
            function selectall(temp){
                //container[temp].selected=true;
                console.log(temp);
                document.getElementById(temp).focus();
                document.getElementById(temp).select();
              }

            ////////resizing the font size of text field
          /*  function myfunction(){
              for(var i=1;i<=100;i++){
                if(container[i]!=undefined){

               x=document.getElementById(i);

              initialSize=25-(x.value.length);
              initialSize=initialSize<=10?10:initialSize;
              x.style.fontSize = initialSize + "px";
            }
          }
          }
          */


            function viewMain(){
                stage.removeAllChildren();
               // logo.style.zIndex=100000000;
                recycleBin_norm.x=872;
                recycleBin_norm.y=461;
                logo.x=800;
                logo.y=-5;
                stage.addChild(recycleBin_norm,mainContainer,logo);
                get_stack(num_of_cards);
                
                stage.update();
            }

            function get_stack(num_of_cards){
               
               // console.log(num_of_cards);
                stack.x=20;
                stack.y=450;
                stage.addChild(stack);
                 for(var i=maxNumber+(num_of_cards-1);i>=num_of_cards;i--){
                  //when num of cards =1 , 4+1-1=4 1,2,3// i=3 , 4+3-1=6, 3,4,5,; i =5 8 ,5 6 7 ---!

                  //if(bitmapArray[i]==undefined){
                    container[i].x=20;
                    container[i].y=450;
                    container[i].inContainer=false;
                    //bitmapArray[i]=container[i].name;
                   // console.log(container[i].inContainer);

                    stage.addChild(container[i]);
                    stage.update();
                  }
                 getCardType(b);
                  if(document.getElementById("cardValues").checked){
                       for(var i=1;i<100;i++){
                              if((container[i]!=undefined)&&(container[i].inContainer==false)){
                                
                                container[i].swapChildrenAt(0,2);
                                //document.getElementById(i).style.visibility="hidden";
                                enterquestionDom[i].visible=false;

                                }
                              
                                
                            }
            console.log("hello checked");
                    }


                
             // }
                


            }
            /////// function event handlers////

            function stagePressHandler(e){
         //   console.log(e.stageX+" ::: "+e.stageY);
            }


            /////////////////////////ticker/////////////////////////////////////
        function tick(){


        stage.update();
        }


           
    
    </script>

     


    </body>
    <footer>

    </footer>


 </html>
